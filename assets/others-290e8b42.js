import{a as H,b as U}from"./main-4f4ff050.js";const L=document.querySelectorAll(".thumb-link");document.querySelectorAll(".thumb");const k=document.querySelector("#othersmain"),O=document.querySelector("#reserve"),w=document.querySelector("#unopen"),J=document.querySelector("#left"),K=document.querySelector("#right"),j=document.querySelector("#months"),q=document.querySelectorAll("td"),N=document.querySelectorAll(".checkbox"),Q=document.querySelector(".ctn"),R=document.querySelector(".pos"),W=document.querySelector(".tim"),X=document.querySelector(".tim2"),Y=document.querySelector("#go"),A=document.querySelector(".doublecheck"),E=document.querySelector(".text"),Z=document.querySelector(".ans"),z=document.querySelector(".ans3"),C=document.querySelector(".oc1"),P=document.querySelector(".mu1"),tt=document.querySelector(".d1"),et=document.querySelector(".d2"),nt=document.querySelector(".d3"),st=document.querySelector(".d4"),ot=document.querySelector(".usetime"),it=document.querySelector(".bkdep"),ct=document.querySelector(".unopenname"),F=document.querySelector("#nologin"),at=document.querySelector("#gologin"),lt=new bootstrap.Modal(document.getElementById("myModal")),rt=new bootstrap.Modal(document.getElementById("myModa2")),dt=document.querySelector(".other"),ut=document.querySelector(".otherspost"),ft=document.querySelector(".userinfomation");let a=document.getElementsByTagName("td");var D=new Date,$=D.getMonth()+1,v=D.getMonth(),c=v+1,d=D.getFullYear(),mt=new Date(d,v,1),V=mt.getDay(),T=[31,28,31,30,31,30,31,31,30,31,30,31];(d%4==0&&d%100!=0||d%400==0)&&(T[1]=29);let B=D.getDate();a[V+B-2].setAttribute("id","current-day");function _(l){const p=document.cookie.split(";").map(f=>f.trim());for(const f of p){const[m,h]=f.split("=");if(m===l)return decodeURIComponent(h)}return null}const G=_("outfitpalsToken"),pt=_("outfitpalsId"),I=parseInt(location.href.split("=")[1],10);axios.get(`${H}users?id=${I}`).then(function(l){dt.innerHTML=`                       
                        <div class="col-2  d-flex"> <div class="circle-box" style="width: 150px; height: 150px;background: url('${l.data[0].image}') center center / cover no-repeat;"></div></div>
                        <div class="col-6  d-flex">
                    
                            <div class="d-flex position-relative ">
                                <div class="ms-2">
                                    <div class="row ms-5 align-items-center" >
                                        <div class="col">
                                            <strong class="display-6 text-nowrap">${l.data[0].name}</strong>
                                            </div>
                                            <div class="col">
                                            <p class="fs-4 mt-3 text-nowrap" style="opacity: 0.4;">${l.data[0].height}cm ${l.data[0].weight}kg</p>
                                            </div>
                                    </div>
                                    <p class="ms-5 mt-5">${l.data[0].introduce}</p>
                                    <div class="d-flex">
                                        <p class="ms-5">活動範圍 :</p>
                                        <p>${l.data[0].PopArea}</p>
                                    </div>
                                    <div class="d-flex">
                                        <p class="ms-5">穿搭價位 :</p>
                                        <p>${l.data[0]["outfit price"]}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <div class="col-2 d-flex align-items-center">
                        <div class = "sto">
                        </div>
                    </div>
                    <div class="col-2 d-flex align-items-center">
                        <div class = "sty">
                        </div>
                    </div>`;const p=document.querySelector(".sty"),f=l.data[0].style.split(" ");f.length<2?p.innerHTML=` <p class="fs-3 d-flex justify-content-center ms-3">穿衣風格</p>
                           <div class="d-flex justify-content-center">
                               <button type="button" class="btn btn-primary btn-pill  ms-3">${f[0]}</button>
                           </div>`:p.innerHTML=` <p class="fs-3 d-flex justify-content-center ">穿衣風格</p>
                           <div class="d-flex justify-content-center">
                               <button type="button" class="btn btn-primary btn-pill ms-3">${f[0]}</button>
                            </div>   
                            <div class="d-flex justify-content-center">       
                                <button type="button" class="btn btn-primary btn-pill mt-3 ms-3">${f[1]}</button>
                            </div>`;const m=document.querySelector(".sto"),h=l.data[0]["love store"].split(" ");h.length<2?m.innerHTML=` <p class="fs-3 d-flex justify-content-center ms-3">愛逛商店</p>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-primary btn-pill ms-3">${h[0]}</button>
                        </div>`:m.innerHTML=` <p class="fs-3 d-flex justify-content-center ms-3">愛逛商店</p>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-primary btn-pill ms-5">${h[0]}</button>
                        </div>       
                        <div class="d-flex justify-content-center"> 
                        <button type="button" class="btn btn-primary btn-pill mt-3 ms-5">${h[1]}</button>
                        </div>`});axios.get(`${H}660/posts?userId=${I}`,{headers:{authorization:`Bearer ${G}`}}).then(function(l){let p=l.data;const f=location.href.split("=")[2];ut.innerHTML=`<div class="row justify-content-center post1">
                        </div>
                        <div class="row justify-content-center mt-5 post2">

                        </div>
                        <div class="row justify-content-center mt-5 post3">

                        </div>
                        <div class="pe-5 me-5 mt-5">
                        <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-lg-center my-3">
                            <li class="page-item"><a href="" class="page-link border-0 l"><i class="bi bi-chevron-left "></i></a></li>
                            <div class = "page d-flex">

                            </div>
                            <li class="page-item"><a href="" class="page-link border-0 r"><i class="bi bi-chevron-right"></i></a></li>
                        </ul>
                        </nav>
                        </div>
                    `;const m=9,h=[".post1",".post2",".post3"],S=(f-1)*m,g=S+m;for(let o=S;o<g&&o<p.length;o++){const s=o%m;h.forEach((e,i)=>{if(s>=i*(m/h.length)&&s<(i+1)*(m/h.length)){const n=document.querySelector(e),r=p[o].imgUrl,u=p[o].id;n.innerHTML+=`<div class="col-4">
                                                            <div class="card card1" style="width: 350px; height: 450px;" id="${u}">
                                                                <img src="${r}" style="width: 350px; height: 450px;" class="object-fit-cover bg-cover" >
                                                            </div>
                                                            </div>`}})}document.querySelectorAll(".card1").forEach(function(o,s){let e=o.getAttribute("id").trim();o.addEventListener("click",function(i){i.stopPropagation(),i.preventDefault(),window.location.href=`${U}/information.html?postId=`+e})});const y=document.querySelector(".page");let x=100;if(p.length>0)for(let o=1;o<=Math.min(x,Math.ceil(p.length/8));o++)y.innerHTML+=`<li class="page-item"><a href="#" class="page-link border-0">${o}</a></li>`;const b=document.querySelector(".l");document.querySelector(".r").addEventListener("click",function(o){const s=new URLSearchParams(window.location.search);var e=parseInt(s.get("page"))||1,i=e+1;s.set("page",i);var n=window.location.origin+window.location.pathname+"?"+s.toString();window.history.replaceState({},document.title,n)}),b.addEventListener("click",function(o){const s=new URLSearchParams(window.location.search);var e=parseInt(s.get("page"))||1;if(e>1){var i=e-1;s.set("page",i);var n=window.location.origin+window.location.pathname+"?"+s.toString();window.history.replaceState({},document.title,n)}})});G!=null?axios.get(`${H}personal?userId=${I}&_expand=user`).then(function(l){l.data.length==0&&F.addEventListener("click",function(){rt.show()});const p=l.data[0].isopen,f=l.data[0].otherdate,m=l.data[0].okday,h=l.data[0].user.image,S=l.data[0].user.name;if(p===!0){ot.textContent=`${l.data[0].oktime}`,tt.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${l.data[0].pos1}</label>`,et.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${l.data[0].pos2}</label>`,nt.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${l.data[0].pos3}</label>`,st.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${l.data[0].pos4}</label>`;for(var g=1;g<=T[v];g++){var M=V+g-2;M>=0&&M<a.length&&(a[M].innerHTML=g,a[M].setAttribute("data-day",g),m.forEach(function(t){let o=t.split("/")[1],s=t.split("/")[0];parseInt(o)===g&&c===parseInt(s)&&(a[M].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')}),f.forEach(function(t){let o=t.split("/")[1],s=t.split("/")[0];parseInt(o)===g&&c===parseInt(s)&&(a[M].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}))}j.innerHTML=`<strong class="fs-2"  id="months">${d}-${c}月</strong>`,q.forEach(function(t,o){t.querySelector("i.bi.bi-calendar-x-fill.text-danger")}),J.addEventListener("click",function(){q.forEach(function(n,r){n.innerHTML="　"});var t=document.getElementById("current-day");t&&t.removeAttribute("id"),c>1?(c-=1,v-=1):c===1&&(c=12,v=11,d-=1);var o=new Date(d,v,1),s=o.getDay();s===0&&(s=7),(d%4==0&&d%100!=0||d%400==0)&&(T[1]=29);for(var e=1;e<=T[v];e++){var i=s+e-2;i>=0&&i<a.length&&(c==$?(a[i].innerHTML=e,a[i].setAttribute("data-day",e),m.forEach(function(n){let r=n.split("/")[1],u=n.split("/")[0];parseInt(r)===e&&c===parseInt(u)&&(a[i].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')}),f.forEach(function(n){let r=n.split("/")[1],u=n.split("/")[0];parseInt(r)===e&&c===parseInt(u)&&(a[i].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')})):(a[i].innerHTML=e,a[i].setAttribute("data-day",e),b[i]=e,m.forEach(function(n){let r=n.split("/")[1],u=n.split("/")[0];parseInt(r)===e&&c===parseInt(u)&&(a[i].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')}),f.forEach(function(n){let r=n.split("/")[1],u=n.split("/")[0];parseInt(r)===e&&c===parseInt(u)&&(a[i].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')})))}j.innerHTML=`<strong class="fs-2"  id="months">${d}-${c}月</strong>`,c==$&&a[s+B-2].setAttribute("id","current-day")}),K.addEventListener("click",function(){q.forEach(function(n,r){n.innerHTML="　"});var t=document.getElementById("current-day");t&&t.removeAttribute("id"),c<12?(c+=1,v+=1):c===12&&(c=1,v=0,d+=1);var o=new Date(d,v,1),s=o.getDay();s===0&&(s=7),(d%4==0&&d%100!=0||d%400==0)&&(T[1]=29);for(var e=1;e<=T[v];e++){var i=s+e-2;i>=0&&i<a.length&&(c==$?(a[i].innerHTML=e,a[i].setAttribute("data-day",e),m.forEach(function(n){let r=n.split("/")[1],u=n.split("/")[0];parseInt(r)===e&&c===parseInt(u)&&(a[i].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')}),f.forEach(function(n){let r=n.split("/")[1],u=n.split("/")[0];parseInt(r)===e&&c===parseInt(u)&&(a[i].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')})):(a[i].innerHTML=e,a[i].setAttribute("data-day",e),b[i]=e,m.forEach(function(n){let r=n.split("/")[1],u=n.split("/")[0];parseInt(r)===e&&c===parseInt(u)&&(a[i].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')}),f.forEach(function(n){let r=n.split("/")[1],u=n.split("/")[0];parseInt(r)===e&&c===parseInt(u)&&(a[i].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')})))}j.innerHTML=`<strong class="fs-2"  id="months">${d}-${c}月</strong>`,c==$&&a[s+B-2].setAttribute("id","current-day")});let y=[];const x=[],b=[];q.forEach(function(t,o){x[o]=t.innerHTML,console.log(t),t.addEventListener("click",function(s){$==c?t.classList.contains("go")?(t.classList.remove("go"),t.innerHTML=x[o],y.pop()):(y.push(`${c}月${s.target.closest("td").getAttribute("data-day")}號`),t.classList.add("go"),t.innerHTML='<i class="bi bi-calendar-plus-fill text-warning d-flex justify-content-center"</i>'):t.classList.contains("go")?(t.classList.remove("go"),t.innerHTML=b[o],y.pop()):(y.push(`${c}月${s.target.closest("td").getAttribute("data-day")}號`),t.classList.add("go"),t.innerHTML='<i class="bi bi-calendar-plus-fill text-warning d-flex justify-content-center"</i>')})}),E.addEventListener("change",function(){let t=E.value;A.disabled=t==""}),A.addEventListener("change",function(){Y.disabled=!A.checked}),Q.addEventListener("click",function(){R.innerHTML="",z.innerHTML="",E.value="",W.innerHTML=`<li>${C.value}:${P.value}</li>`,X.innerHTML=`<li>${C.value}:${P.value}</li>`,N.forEach(function(t,o){if(t.checked){var s=document.querySelector(".d"+(o+1)),e=s.innerText.trim();R.innerHTML+=`<li>${e}</li>`,z.innerHTML+=`<li>${e}</li>`}}),ft.innerHTML+=`<div class="circle-box   ms-3" style="width: 50px; height: 50px;background: url('${h}') center center / cover no-repeat;"></div>
                                                <strong class="me-5 mt-2 ms-1">${S}</strong>  `});for(let t=0;t<L.length;t++)L[t].addEventListener("click",function(o){o.preventDefault();for(let s=0;s<L.length;s++)L[s].querySelector(".thumb").classList.remove("active");this.querySelector(".thumb").classList.add("active"),this.querySelector(".thumb").textContent==="貼文總覽"?(k.classList.remove("d-none"),O.classList.add("d-none"),w.classList.add("d-none")):(O.classList.remove("d-none"),k.classList.add("d-none"),w.classList.add("d-none"))});Y.addEventListener("click",function(){let t=[],o=E.value,s=new Date().toUTCString(),e=`${d}年${y} ${C.value}:${P.value}`;N.forEach(function(i,n){if(i.checked){var r=document.querySelector(".d"+(n+1));t.push(r.innerText.trim())}}),axios.post(`${H}comments`,{posterId:Number(I),userId:Number(pt),body:o,reservationTime:e,location:t,state:!1,postTime:s}),Z.innerHTML=`<p>${o}</p>`})}else if(p!==!0){for(let y=0;y<L.length;y++)L[y].addEventListener("click",function(x){x.preventDefault();for(let b=0;b<L.length;b++)L[b].querySelector(".thumb").classList.remove("active");this.querySelector(".thumb").classList.add("active"),this.querySelector(".thumb").textContent==="貼文總覽"?(k.classList.remove("d-none"),w.classList.add("d-none")):(w.classList.remove("d-none"),k.classList.add("d-none"))});ct.textContent=`很可惜，${S}尚未成為逛街小精靈 想預約陪逛服務嗎？`,it.addEventListener("click",function(){window.location.href=`${U}/development.html`})}}):(F.addEventListener("click",function(){lt.show()}),at.addEventListener("click",function(){window.location.href=`${U}/member.html`}));
