import{a as H,b as U}from"./main-4f4ff050.js";const L=document.querySelectorAll(".thumb-link");document.querySelectorAll(".thumb");const k=document.querySelector("#othersmain"),O=document.querySelector("#reserve"),w=document.querySelector("#unopen"),J=document.querySelector("#left"),K=document.querySelector("#right"),j=document.querySelector("#months"),q=document.querySelectorAll("td"),N=document.querySelectorAll(".checkbox"),Q=document.querySelector(".ctn"),R=document.querySelector(".pos"),W=document.querySelector(".tim"),X=document.querySelector(".tim2"),Y=document.querySelector("#go"),A=document.querySelector(".doublecheck"),E=document.querySelector(".text"),Z=document.querySelector(".ans"),z=document.querySelector(".ans3"),C=document.querySelector(".oc1"),P=document.querySelector(".mu1"),tt=document.querySelector(".d1"),et=document.querySelector(".d2"),nt=document.querySelector(".d3"),st=document.querySelector(".d4"),ot=document.querySelector(".usetime"),ct=document.querySelector(".bkdep"),it=document.querySelector(".unopenname"),F=document.querySelector("#nologin"),at=document.querySelector("#gologin"),lt=new bootstrap.Modal(document.getElementById("myModal")),rt=new bootstrap.Modal(document.getElementById("myModa2")),dt=document.querySelector(".other"),ut=document.querySelector(".otherspost"),ft=document.querySelector(".userinfomation");let l=document.getElementsByTagName("td");var D=new Date,$=D.getMonth()+1,v=D.getMonth(),i=v+1,d=D.getFullYear(),mt=new Date(d,v,1),V=mt.getDay(),T=[31,28,31,30,31,30,31,31,30,31,30,31];(d%4==0&&d%100!=0||d%400==0)&&(T[1]=29);let B=D.getDate();l[V+B-2].setAttribute("id","current-day");function _(a){const p=document.cookie.split(";").map(f=>f.trim());for(const f of p){const[m,y]=f.split("=");if(m===a)return decodeURIComponent(y)}return null}const G=_("outfitpalsToken"),pt=_("outfitpalsId"),I=parseInt(location.href.split("=")[1],10);axios.get(`${H}users?id=${I}`).then(function(a){dt.innerHTML=`                       
                        <div class="col-2  d-flex"> <div class="circle-box" style="width: 150px; height: 150px;background: url('${a.data[0].image}') center center / cover no-repeat;"></div></div>
                        <div class="col-6  d-flex">
                    
                            <div class="d-flex position-relative ">
                                <div class="ms-2">
                                    <div class="row ms-5 align-items-center" >
                                        <div class="col">
                                            <strong class="display-6 text-nowrap">${a.data[0].name}</strong>
                                            </div>
                                            <div class="col">
                                            <p class="fs-4 mt-3 text-nowrap" style="opacity: 0.4;">${a.data[0].height}cm ${a.data[0].weight}kg</p>
                                            </div>
                                    </div>
                                    <p class="ms-5 mt-5">${a.data[0].introduce}</p>
                                    <div class="d-flex">
                                        <p class="ms-5">活動範圍 :</p>
                                        <p>${a.data[0].PopArea}</p>
                                    </div>
                                    <div class="d-flex">
                                        <p class="ms-5">穿搭價位 :</p>
                                        <p>${a.data[0]["outfit price"]}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <div class="col-2 d-flex align-items-center">
                        <div class = "sto">
                        </div>
                    </div>
                    <div class="col-2 d-flex align-items-center">
                        <div class = "sty">
                        </div>
                    </div>`;const p=document.querySelector(".sty"),f=a.data[0].style.split(" ");f.length<2?p.innerHTML=` <p class="fs-3 d-flex justify-content-center ms-3">穿衣風格</p>
                           <div class="d-flex justify-content-center">
                               <button type="button" class="btn btn-primary btn-pill  ms-3">${f[0]}</button>
                           </div>`:p.innerHTML=` <p class="fs-3 d-flex justify-content-center ">穿衣風格</p>
                           <div class="d-flex justify-content-center">
                               <button type="button" class="btn btn-primary btn-pill ms-3">${f[0]}</button>
                            </div>   
                            <div class="d-flex justify-content-center">       
                                <button type="button" class="btn btn-primary btn-pill mt-3 ms-3">${f[1]}</button>
                            </div>`;const m=document.querySelector(".sto"),y=a.data[0]["love store"].split(" ");y.length<2?m.innerHTML=` <p class="fs-3 d-flex justify-content-center ms-3">愛逛商店</p>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-primary btn-pill ms-3">${y[0]}</button>
                        </div>`:m.innerHTML=` <p class="fs-3 d-flex justify-content-center ms-3">愛逛商店</p>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-primary btn-pill ms-5">${y[0]}</button>
                        </div>       
                        <div class="d-flex justify-content-center"> 
                        <button type="button" class="btn btn-primary btn-pill mt-3 ms-5">${y[1]}</button>
                        </div>`});axios.get(`${H}660/posts?userId=${I}`,{headers:{authorization:`Bearer ${G}`}}).then(function(a){let p=a.data;const f=location.href.split("=")[2];ut.innerHTML=`<div class="row justify-content-center post1">
                        </div>
                        <div class="row justify-content-center mt-5 post2">

                        </div>
                        <div class="row justify-content-center mt-5 post3">

                        </div>
                        <div class="pe-5 me-5 mt-5">
                        <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-lg-center my-3">
                            <li class="page-item"><a href="" class="page-link border-0 l"><i class="bi bi-chevron-left "></i></a></li>
                            <div class = "page d-flex">

                            </div>
                            <li class="page-item"><a href="" class="page-link border-0 r"><i class="bi bi-chevron-right"></i></a></li>
                        </ul>
                        </nav>
                        </div>
                    `;const m=9,y=[".post1",".post2",".post3"],S=(f-1)*m,g=S+m;for(let o=S;o<g&&o<p.length;o++){const n=o%m;y.forEach((t,c)=>{if(n>=c*(m/y.length)&&n<(c+1)*(m/y.length)){const s=document.querySelector(t),r=p[o].imgUrl,u=p[o].id;s.innerHTML+=`<div class="col-4">
                                                            <div class="card card1" style="width: 350px; height: 450px;" id="${u}">
                                                                <img src="${r}" style="width: 350px; height: 450px;" class="object-fit-cover bg-cover" >
                                                            </div>
                                                            </div>`}})}document.querySelectorAll(".card1").forEach(function(o,n){let t=o.getAttribute("id").trim();o.addEventListener("click",function(c){c.stopPropagation(),c.preventDefault(),window.location.href=`${U}/information.html?postId=`+t})});const h=document.querySelector(".page");let x=100;if(p.length>0)for(let o=1;o<=Math.min(x,Math.ceil(p.length/8));o++)h.innerHTML+=`<li class="page-item"><a href="#" class="page-link border-0">${o}</a></li>`;const b=document.querySelector(".l");document.querySelector(".r").addEventListener("click",function(o){const n=new URLSearchParams(window.location.search);var t=parseInt(n.get("page"))||1,c=t+1;n.set("page",c);var s=window.location.origin+window.location.pathname+"?"+n.toString();window.history.replaceState({},document.title,s)}),b.addEventListener("click",function(o){const n=new URLSearchParams(window.location.search);var t=parseInt(n.get("page"))||1;if(t>1){var c=t-1;n.set("page",c);var s=window.location.origin+window.location.pathname+"?"+n.toString();window.history.replaceState({},document.title,s)}})});G!=null?axios.get(`${H}personal?userId=${I}&_expand=user`).then(function(a){console.log(a.data),a.data.length==0&&F.addEventListener("click",function(){rt.show()});const p=a.data[0].isopen,f=a.data[0].otherdate,m=a.data[0].okday,y=a.data[0].user.image,S=a.data[0].user.name;if(p===!0){ot.textContent=`${a.data[0].oktime}`,tt.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${a.data[0].pos1}</label>`,et.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${a.data[0].pos2}</label>`,nt.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${a.data[0].pos3}</label>`,st.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${a.data[0].pos4}</label>`;for(var g=1;g<=T[v];g++){var M=V+g-2;M>=0&&M<l.length&&(l[M].innerHTML=g,l[M].setAttribute("data-day",g),f.forEach(function(e){let o=e.split("/")[1],n=e.split("/")[0];parseInt(o)===g&&i===parseInt(n)&&(l[M].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(e){let o=e.split("/")[1],n=e.split("/")[0];parseInt(o)===g&&i===parseInt(n)&&(l[M].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')}))}j.innerHTML=`<strong class="fs-2"  id="months">${d}-${i}月</strong>`,q.forEach(function(e,o){e.querySelector("i.bi.bi-calendar-x-fill.text-danger")}),J.addEventListener("click",function(){q.forEach(function(s,r){s.innerHTML="　"});var e=document.getElementById("current-day");e&&e.removeAttribute("id"),i>1?(i-=1,v-=1):i===1&&(i=12,v=11,d-=1);var o=new Date(d,v,1),n=o.getDay();n===0&&(n=7),(d%4==0&&d%100!=0||d%400==0)&&(T[1]=29);for(var t=1;t<=T[v];t++){var c=n+t-2;c>=0&&c<l.length&&(i==$?(l[c].innerHTML=t,l[c].setAttribute("data-day",t),f.forEach(function(s){let r=s.split("/")[1],u=s.split("/")[0];parseInt(r)===t&&i===parseInt(u)&&(l[c].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(s){let r=s.split("/")[1],u=s.split("/")[0];parseInt(r)===t&&i===parseInt(u)&&(l[c].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')})):(l[c].innerHTML=t,l[c].setAttribute("data-day",t),b[c]=t,f.forEach(function(s){let r=s.split("/")[1],u=s.split("/")[0];parseInt(r)===t&&i===parseInt(u)&&(l[c].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(s){let r=s.split("/")[1],u=s.split("/")[0];parseInt(r)===t&&i===parseInt(u)&&(l[c].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')})))}j.innerHTML=`<strong class="fs-2"  id="months">${d}-${i}月</strong>`,i==$&&l[n+B-2].setAttribute("id","current-day")}),K.addEventListener("click",function(){q.forEach(function(s,r){s.innerHTML="　"});var e=document.getElementById("current-day");e&&e.removeAttribute("id"),i<12?(i+=1,v+=1):i===12&&(i=1,v=0,d+=1);var o=new Date(d,v,1),n=o.getDay();n===0&&(n=7),(d%4==0&&d%100!=0||d%400==0)&&(T[1]=29);for(var t=1;t<=T[v];t++){var c=n+t-2;c>=0&&c<l.length&&(i==$?(l[c].innerHTML=t,l[c].setAttribute("data-day",t),f.forEach(function(s){let r=s.split("/")[1],u=s.split("/")[0];parseInt(r)===t&&i===parseInt(u)&&(l[c].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(s){let r=s.split("/")[1],u=s.split("/")[0];parseInt(r)===t&&i===parseInt(u)&&(l[c].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')})):(l[c].innerHTML=t,l[c].setAttribute("data-day",t),b[c]=t,f.forEach(function(s){let r=s.split("/")[1],u=s.split("/")[0];parseInt(r)===t&&i===parseInt(u)&&(l[c].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(s){let r=s.split("/")[1],u=s.split("/")[0];parseInt(r)===t&&i===parseInt(u)&&(l[c].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')})))}j.innerHTML=`<strong class="fs-2"  id="months">${d}-${i}月</strong>`,i==$&&l[n+B-2].setAttribute("id","current-day")});let h=[];const x=[],b=[];q.forEach(function(e,o){x[o]=e.innerHTML,e.addEventListener("click",function(n){$==i?e.classList.contains("go")?(e.classList.remove("go"),e.innerHTML=x[o],h.pop()):(console.log(n.target.textContent),console.log(n.target),h.push(`${i}月${n.target.closest("td").getAttribute("data-day")}號`),console.log(h),e.classList.add("go"),e.innerHTML='<i class="bi bi-calendar-plus-fill text-warning d-flex justify-content-center"</i>'):e.classList.contains("go")?(e.classList.remove("go"),e.innerHTML=b[o],h.pop()):(h.push(`${i}月${n.target.closest("td").getAttribute("data-day")}號`),console.log(h),e.classList.add("go"),e.innerHTML='<i class="bi bi-calendar-plus-fill text-warning d-flex justify-content-center"</i>')})}),E.addEventListener("change",function(){let e=E.value;A.disabled=e==""}),A.addEventListener("change",function(){Y.disabled=!A.checked}),Q.addEventListener("click",function(){R.innerHTML="",z.innerHTML="",E.value="",W.innerHTML=`<li>${C.value}:${P.value}</li>`,X.innerHTML=`<li>${C.value}:${P.value}</li>`,N.forEach(function(e,o){if(e.checked){var n=document.querySelector(".d"+(o+1)),t=n.innerText.trim();R.innerHTML+=`<li>${t}</li>`,z.innerHTML+=`<li>${t}</li>`}}),ft.innerHTML+=`<div class="circle-box   ms-3" style="width: 50px; height: 50px;background: url('${y}') center center / cover no-repeat;"></div>
                                                <strong class="me-5 mt-2 ms-1">${S}</strong>  `});for(let e=0;e<L.length;e++)L[e].addEventListener("click",function(o){o.preventDefault();for(let n=0;n<L.length;n++)L[n].querySelector(".thumb").classList.remove("active");this.querySelector(".thumb").classList.add("active"),this.querySelector(".thumb").textContent==="貼文總覽"?(k.classList.remove("d-none"),O.classList.add("d-none"),w.classList.add("d-none")):(O.classList.remove("d-none"),k.classList.add("d-none"),w.classList.add("d-none"))});Y.addEventListener("click",function(){let e=[],o=E.value,n=new Date().toUTCString(),t=`${d}年${h} ${C.value}:${P.value}`;N.forEach(function(c,s){if(c.checked){var r=document.querySelector(".d"+(s+1));e.push(r.innerText.trim())}}),axios.post(`${H}comments`,{posterId:Number(I),userId:Number(pt),body:o,reservationTime:t,location:e,state:!1,postTime:n}),Z.innerHTML=`<p>${o}</p>`})}else if(p!==!0){for(let h=0;h<L.length;h++)L[h].addEventListener("click",function(x){x.preventDefault();for(let b=0;b<L.length;b++)L[b].querySelector(".thumb").classList.remove("active");this.querySelector(".thumb").classList.add("active"),this.querySelector(".thumb").textContent==="貼文總覽"?(k.classList.remove("d-none"),w.classList.add("d-none")):(w.classList.remove("d-none"),k.classList.add("d-none"))});it.textContent=`很可惜，${S}尚未成為逛街小精靈 想預約陪逛服務嗎？`,ct.addEventListener("click",function(){window.location.href=`${U}/development.html`})}}):(F.addEventListener("click",function(){lt.show()}),at.addEventListener("click",function(){window.location.href=`${U}/member.html`}));
