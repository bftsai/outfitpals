import"./main-0576168d.js";const O="https://outfitpals-web-server.onrender.com/",U="https://bftsai.github.io/outfitpals",M=document.querySelectorAll(".thumb-link");document.querySelectorAll(".thumb");const w=document.querySelector("#othersmain"),N=document.querySelector("#reserve"),S=document.querySelector("#unopen"),K=document.querySelector("#left"),Q=document.querySelector("#right"),j=document.querySelector("#months"),q=document.querySelectorAll("td"),z=document.querySelectorAll(".checkbox"),W=document.querySelector(".ctn"),R=document.querySelector(".pos"),X=document.querySelector(".tim"),Z=document.querySelector(".tim2"),Y=document.querySelector("#go"),C=document.querySelector(".doublecheck"),E=document.querySelector(".text"),_=document.querySelector(".ans"),F=document.querySelector(".ans3"),P=document.querySelector(".oc1"),A=document.querySelector(".mu1"),ee=document.querySelector(".d1"),te=document.querySelector(".d2"),ne=document.querySelector(".d3"),se=document.querySelector(".d4"),oe=document.querySelector(".usetime"),ie=document.querySelector(".bkdep"),V=document.querySelector("#nologin"),le=document.querySelector("#gologin"),ce=new bootstrap.Modal(document.getElementById("myModal")),ae=new bootstrap.Modal(document.getElementById("myModa2")),re=document.querySelector(".other"),de=document.querySelector(".otherspost");let r=document.getElementsByTagName("td");var D=new Date,k=D.getMonth()+1,v=D.getMonth(),o=v+1,u=D.getFullYear(),ue=new Date(u,v,1),G=ue.getDay(),x=[31,28,31,30,31,30,31,31,30,31,30,31];(u%4==0&&u%100!=0||u%400==0)&&(x[1]=29);let B=D.getDate();r[G+B-2].setAttribute("id","current-day");function J(c){const h=document.cookie.split(";").map(p=>p.trim());for(const p of h){const[m,f]=p.split("=");if(m===c)return decodeURIComponent(f)}return null}const H=J("outfitpalsToken"),fe=J("outfitpalsId"),I=parseInt(location.href.split("=")[1],10);axios.get(`${O}660/users?id=${I}`,{headers:{authorization:`Bearer ${H}`}}).then(function(c){re.innerHTML=`                       
                        <div class="col-2  d-flex"> <div class="circle-box" style="width: 150px; height: 150px;background: url('${c.data[0].image}') center center / cover no-repeat;"></div></div>
                        <div class="col-6  d-flex">
                    
                            <div class="d-flex position-relative ">
                                <div class="ms-2">
                                    <div class="row ms-5 align-items-center" >
                                        <div class="col">
                                            <strong class="display-6 text-nowrap">${c.data[0].name}</strong>
                                            </div>
                                            <div class="col">
                                            <p class="fs-4 mt-3 text-nowrap" style="opacity: 0.4;">${c.data[0].height}cm ${c.data[0].weight}kg</p>
                                            </div>
                                    </div>
                                    <p class="ms-5 mt-5">${c.data[0].introduce}</p>
                                    <div class="d-flex">
                                        <p class="ms-5">活動範圍 :</p>
                                        <p>${c.data[0].PopArea}</p>
                                    </div>
                                    <div class="d-flex">
                                        <p class="ms-5">穿搭價位 :</p>
                                        <p>${c.data[0]["outfit price"]}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <div class="col-2 d-flex align-items-center">
                        <div class = "sto">
                        </div>
                    </div>
                    <div class="col-2 d-flex align-items-center">
                        <div class = "sty">
                        </div>
                    </div>`;const h=document.querySelector(".sty"),p=c.data[0].style.split(" ");p.length<2?h.innerHTML=` <p class="fs-3 d-flex justify-content-center ms-3">穿衣風格</p>
                           <div class="d-flex justify-content-center">
                               <button type="button" class="btn btn-primary btn-pill  ms-3">${p[0]}</button>
                           </div>`:h.innerHTML=` <p class="fs-3 d-flex justify-content-center ">穿衣風格</p>
                           <div class="d-flex justify-content-center">
                               <button type="button" class="btn btn-primary btn-pill ms-3">${p[0]}</button>
                            </div>   
                            <div class="d-flex justify-content-center">       
                                <button type="button" class="btn btn-primary btn-pill mt-3 ms-3">${p[1]}</button>
                            </div>`;const m=document.querySelector(".sto"),f=c.data[0]["love store"].split(" ");f.length<2?m.innerHTML=` <p class="fs-3 d-flex justify-content-center ms-3">愛逛商店</p>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-primary btn-pill ms-3">${f[0]}</button>
                        </div>`:m.innerHTML=` <p class="fs-3 d-flex justify-content-center ms-3">愛逛商店</p>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-primary btn-pill ms-5">${f[0]}</button>
                        </div>       
                        <div class="d-flex justify-content-center"> 
                        <button type="button" class="btn btn-primary btn-pill mt-3 ms-5">${f[1]}</button>
                        </div>`});axios.get(`${O}660/posts?userId=${I}`,{headers:{authorization:`Bearer ${H}`}}).then(function(c){let h=c.data;const p=location.href.split("=")[2];de.innerHTML=`<div class="row justify-content-center post1">
                        </div>
                        <div class="row justify-content-center mt-5 post2">

                        </div>
                        <div class="row justify-content-center mt-5 post3">

                        </div>
                        <div class="pe-5 me-5 mt-5">
                        <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-lg-center my-3">
                            <li class="page-item"><a href="" class="page-link border-0 l"><i class="bi bi-chevron-left "></i></a></li>
                            <div class = "page d-flex">

                            </div>
                            <li class="page-item"><a href="" class="page-link border-0 r"><i class="bi bi-chevron-right"></i></a></li>
                        </ul>
                        </nav>
                        </div>
                    `;const m=9,f=[".post1",".post2",".post3"],L=(p-1)*m,y=L+m;for(let e=L;e<y&&e<h.length;e++){const s=e%m;f.forEach((t,l)=>{if(s>=l*(m/f.length)&&s<(l+1)*(m/f.length)){const a=document.querySelector(t),$=h[e].imgUrl,b=h[e].id;a.innerHTML+=`<div class="col-4">
                                                            <div class="card card1" style="width: 350px; height: 450px;" id="${b}">
                                                                <img src="${$}" style="width: 350px; height: 450px;" class="object-fit-cover bg-cover" >
                                                            </div>
                                                            </div>`}})}document.querySelectorAll(".card1").forEach(function(e,s){let t=e.getAttribute("id").trim();e.addEventListener("click",function(l){l.stopPropagation(),l.preventDefault(),window.location.href=`${U}/information.html?postId=`+t})});const g=document.querySelector(".page");let n=100;if(h.length>0)for(let e=1;e<=Math.min(n,Math.ceil(h.length/8));e++)g.innerHTML+=`<li class="page-item"><a href="#" class="page-link border-0">${e}</a></li>`;const d=document.querySelector(".l");document.querySelector(".r").addEventListener("click",function(e){const s=new URLSearchParams(window.location.search);var t=parseInt(s.get("page"))||1,l=t+1;s.set("page",l);var a=window.location.origin+window.location.pathname+"?"+s.toString();window.history.replaceState({},document.title,a)}),d.addEventListener("click",function(e){const s=new URLSearchParams(window.location.search);var t=parseInt(s.get("page"))||1;if(t>1){var l=t-1;s.set("page",l);var a=window.location.origin+window.location.pathname+"?"+s.toString();window.history.replaceState({},document.title,a)}})});H!=null?axios.get(`${O}660/personal?userId=${I}`,{headers:{authorization:`Bearer ${H}`}}).then(function(c){c.data.length==0&&V.addEventListener("click",function(){ae.show()});const h=c.data[0].isopen,p=c.data[0].otherdate,m=c.data[0].okday;if(h===!0){oe.textContent=`${c.data[0].oktime}`,ee.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${c.data[0].pos1}</label>`,te.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${c.data[0].pos2}</label>`,ne.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${c.data[0].pos3}</label>`,se.innerHTML=`<label class="form-check-label d4" for="flexCheckDefault">${c.data[0].pos4}</label>`;for(var f=1;f<=x[v];f++){var L=G+f-2;L>=0&&L<r.length&&(r[L].innerHTML=f,p.forEach(function(n){let i=n.split("月")[1].split("號")[0],s=n.split("號")[0].split("月")[0];parseInt(i)===f&&o===parseInt(s)&&(r[L].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(n){let d=n.split("/")[1],i=n.split("/")[0];parseInt(d)===f&&o===parseInt(i)&&(r[L].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')}))}j.innerHTML=`<strong class="fs-2"  id="months">${u}-${o}月</strong>`,q.forEach(function(n,d){n.querySelector("i.bi.bi-calendar-x-fill.text-danger")}),K.addEventListener("click",function(){q.forEach(function(t,l){t.innerHTML="　"});var n=document.getElementById("current-day");n&&n.removeAttribute("id"),o>1?(o-=1,v-=1):o===1&&(o=12,v=11,u-=1);var d=new Date(u,v,1),i=d.getDay();i===0&&(i=7),(u%4==0&&u%100!=0||u%400==0)&&(x[1]=29);for(var e=1;e<=x[v];e++){var s=i+e-2;s>=0&&s<r.length&&(o==k?(r[s].innerHTML=e,p.forEach(function(t){let a=t.split("月")[1].split("號")[0],b=t.split("號")[0].split("月")[0];parseInt(a)===e&&o===parseInt(b)&&(r[s].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(t){let l=t.split("/")[1],a=t.split("/")[0];parseInt(l)===e&&o===parseInt(a)&&(r[s].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')})):(r[s].innerHTML=e,g[s]=e,p.forEach(function(t){let a=t.split("月")[1].split("號")[0],b=t.split("號")[0].split("月")[0];parseInt(a)===e&&o===parseInt(b)&&(r[s].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(t){let l=t.split("/")[1],a=t.split("/")[0];parseInt(l)===e&&o===parseInt(a)&&(r[s].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')})))}j.innerHTML=`<strong class="fs-2"  id="months">${u}-${o}月</strong>`,o==k&&r[i+B-2].setAttribute("id","current-day")}),Q.addEventListener("click",function(){q.forEach(function(t,l){t.innerHTML="　"});var n=document.getElementById("current-day");n&&n.removeAttribute("id"),o<12?(o+=1,v+=1):o===12&&(o=1,v=0,u+=1);var d=new Date(u,v,1),i=d.getDay();i===0&&(i=7),(u%4==0&&u%100!=0||u%400==0)&&(x[1]=29);for(var e=1;e<=x[v];e++){var s=i+e-2;s>=0&&s<r.length&&(o==k?(r[s].innerHTML=e,p.forEach(function(t){let a=t.split("月")[1].split("號")[0],b=t.split("號")[0].split("月")[0];parseInt(a)===e&&o===parseInt(b)&&(r[s].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(t){let l=t.split("/")[1],a=t.split("/")[0];parseInt(l)===e&&o===parseInt(a)&&(r[s].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')})):(r[s].innerHTML=e,g[s]=e,p.forEach(function(t){let a=t.split("月")[1].split("號")[0],b=t.split("號")[0].split("月")[0];parseInt(a)===e&&o===parseInt(b)&&(r[s].innerHTML='<i class="bi bi-calendar-x-fill d-flex justify-content-center text-danger"></i>')}),m.forEach(function(t){let l=t.split("/")[1],a=t.split("/")[0];parseInt(l)===e&&o===parseInt(a)&&(r[s].innerHTML='<i class="bi bi-calendar2-check-fill d-flex justify-content-center text-info">')})))}j.innerHTML=`<strong class="fs-2"  id="months">${u}-${o}月</strong>`,o==k&&r[i+B-2].setAttribute("id","current-day")});let y=[];const T=[],g=[];q.forEach(function(n,d){T[d]=n.innerHTML,n.addEventListener("click",function(i){k==o?n.classList.contains("go")?(n.classList.remove("go"),n.innerHTML=T[d],y.pop()):(y.push(`${o}月${i.target.textContent}號`),console.log(y),n.classList.add("go"),n.innerHTML='<i class="bi bi-calendar-plus-fill text-warning d-flex justify-content-center"</i>'):n.classList.contains("go")?(n.classList.remove("go"),n.innerHTML=g[d],y.pop()):(y.push(`${o}月${i.target.textContent}號`),console.log(y),n.classList.add("go"),n.innerHTML='<i class="bi bi-calendar-plus-fill text-warning d-flex justify-content-center"</i>')})}),E.addEventListener("change",function(){let n=E.value;C.disabled=n==""}),C.addEventListener("change",function(){Y.disabled=!C.checked}),W.addEventListener("click",function(){R.innerHTML="",F.innerHTML="",E.value="",X.innerHTML=`<li>${P.value}:${A.value}</li>`,Z.innerHTML=`<li>${P.value}:${A.value}</li>`,z.forEach(function(n,d){if(n.checked){var i=document.querySelector(".d"+(d+1)),e=i.innerText.trim();R.innerHTML+=`<li>${e}</li>`,F.innerHTML+=`<li>${e}</li>`}})});for(let n=0;n<M.length;n++)M[n].addEventListener("click",function(d){d.preventDefault();for(let i=0;i<M.length;i++)M[i].querySelector(".thumb").classList.remove("active");this.querySelector(".thumb").classList.add("active"),this.querySelector(".thumb").textContent==="貼文總覽"?(w.classList.remove("d-none"),N.classList.add("d-none"),S.classList.add("d-none")):(N.classList.remove("d-none"),w.classList.add("d-none"),S.classList.add("d-none"))});Y.addEventListener("click",function(){let n=[],d=E.value,i=new Date().toUTCString(),e=`${u}年${y} ${P.value}:${A.value}`;z.forEach(function(s,t){if(s.checked){var l=document.querySelector(".d"+(t+1));n.push(l.innerText.trim())}}),axios.post("${apiUrl}comments",{posterId:Number(I),userId:Number(fe),body:d,reservationTime:e,location:n,state:!1,postTime:i}),_.innerHTML=`<p>${d}</p>`})}else if(h!==!0){for(let y=0;y<M.length;y++)M[y].addEventListener("click",function(T){T.preventDefault();for(let g=0;g<M.length;g++)M[g].querySelector(".thumb").classList.remove("active");this.querySelector(".thumb").classList.add("active"),this.querySelector(".thumb").textContent==="貼文總覽"?(w.classList.remove("d-none"),S.classList.add("d-none")):(S.classList.remove("d-none"),w.classList.add("d-none"))});ie.addEventListener("click",function(){window.location.href=`${U}/development.html`})}}):(V.addEventListener("click",function(){ce.show()}),le.addEventListener("click",function(){window.location.href=`${U}/member.html`}));
